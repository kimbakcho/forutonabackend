<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wing.forutona.FcubeDao.FcubeplayerExtender1Mapper">
  <resultMap id="BaseResultMap" type="com.wing.forutona.FcubeDto.FcubeplayerExtender1">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="idx" jdbcType="INTEGER" property="idx" />
    <result column="Cubeuuid" jdbcType="VARCHAR" property="cubeuuid" />
    <result column="Uid" jdbcType="VARCHAR" property="uid" />
    <result column="latitude" jdbcType="DOUBLE" property="latitude" />
    <result column="nickname" jdbcType="VARCHAR" property="NickName" />
    <result column="profilepicktureurl" jdbcType="VARCHAR" property="ProfilePicktureUrl" />
  </resultMap>
  <select id="selectPlayers" parameterType="com.wing.forutona.FcubeDto.Fcubeplayer" resultMap="BaseResultMap">
    SELECT A.idx, A.Cubeuuid, A.Uid, A.latitude, A.longitude,B.NickName,B.ProfilePicktureUrl FROM FcubePlayer A LEFT JOIN UserInfo B ON A.Uid = B.Uid
    <where>
      A.Cubeuuid = #{cubeuuid,jdbcType=VARCHAR}
      <if test="uid != null">
        AND A.Uid = #{uid, jdbcType=VARCHAR}
      </if>
    </where>
  </select>

</mapper>